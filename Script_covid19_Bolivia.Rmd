---
title: "Covid-19 en Bolivia"
author: Bladimir Morales Torrez
date: "`r format(Sys.time(), 'Actualizado a %d %B, %Y')`"
output: 
  html_notebook:
    number_sections: true
    theme: flatly
    toc: true
    toc_float: true
    fig_retina: 2
    df_print: paged
---
<style>
body {
text-align: justify}
</style>

La información que se presenta a través de gráficos dinámicos y datos estadísticos, permite conocer la evolución del COVID-19 desde una perspectiva histórica y actual de los contagios a nivel Bolivia y Departamento, contrastado con el número de Casos Nuevos,  Casos Acumulados, por Tipo de Casos (Confirmados, Recuperados, Decesos y Activos).
La pulsación en los botones y leyendas de los gráficos dinámicos permite generar información de acuerdo al requerimiento del usuario. 


```{r base_datos, echo=FALSE}
#pq=c("knitr","readxl","dplyr","purrr","glue","plotly")
#install.packages(pq)
library(knitr)
library(readxl)
library(purrr)#accumulate
library(glue)#antes de plotly
library(dplyr)
library(ggplot2)
library(plotly)

rm(list=ls())
etiquetas_abr=c("bn","cb","ch","lp","or","pn","pt","sc","tj")
bd=list()
for(i in 1:9){
 bd_dep=data.frame(read_xlsx("C:\\Users\\Bladimir\\Documents\\Proyectos\\COVID-19 Bolivia\\COVID-19-Bolivia\\BD\\BD_dpto.xlsx",sheet = etiquetas_abr[i] )) %>% 
   mutate(Activos=Confirmados-Decesos-Recuperados,
         Total_Confirmados= Confirmados %>%  accumulate(`+`),
         Total_Decesos= Decesos %>%  accumulate(`+`),
         Total_Recuperados= Recuperados %>%  accumulate(`+`),
         Total_Activos= Activos %>%  accumulate(`+`))
 bd[i]=list(bd_dep)}

bd_dep=bd
Bolivia=data.frame(as.Date(bd[[9]]$Fecha)) %>% 
  mutate(dep="Bolivia",Confirmados=0,Decesos=0,Recuperados=0,Activos=0,
         Total_Confirmados=0,Total_Decesos=0,Total_Recuperados=0,Total_Activos=0) %>% 
  select(Fecha="as.Date.bd..9...Fecha.",dep:Total_Activos)

for (i in 1:9) {
  Bolivia$Confirmados=Bolivia$Confirmados+bd[[i]]$Confirmados
  Bolivia$Decesos=Bolivia$Decesos+bd[[i]]$Decesos
  Bolivia$Recuperados=Bolivia$Recuperados+bd[[i]]$Recuperados
  Bolivia$Activos=Bolivia$Activos+bd[[i]]$Activos
  Bolivia$Total_Confirmados=Bolivia$Total_Confirmados+bd[[i]]$Total_Confirmados
  Bolivia$Total_Decesos=Bolivia$Total_Decesos+bd[[i]]$Total_Decesos
  Bolivia$Total_Recuperados=Bolivia$Total_Recuperados+bd[[i]]$Total_Recuperados
  Bolivia$Total_Activos=Bolivia$Total_Activos+bd[[i]]$Total_Activos
}

bd[10]=list(Bolivia)

etiqueta_dep=c("Beni","Cochabamba","Chuquisaca","La Paz","Oruro","Pando","Potosí","Santa Cruz","Tarija","Bolivia")
names(bd)=etiqueta_dep
```

# Bolivia {.tabset}

## Gráfico de tipo de casos

```{r fig.width=8,fig.height=5,echo=FALSE}
plot_ly(type = "scatter",mode='lines') %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Confirmados,
            name="Confirmados",visible=T,line=list(color="#FA975A")) %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Decesos,
            name="Decesos",visible=T,line=list(color="#494451")) %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Recuperados ,
            name="Recuperados",visible=T,line=list(color="#4EF151")) %>% 
  
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Total_Confirmados,
            name="Total Confirmados",visible=F,line=list(color="#FA975A")) %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Total_Decesos,
            name="Total Decesos",visible=F,line=list(color="#494451")) %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Total_Recuperados,
            name="Total Recuperados",visible=F,line=list(color="#4EF151")) %>% 
  add_trace(x=bd[[etiqueta_dep[10]]]$Fecha,y=bd[[etiqueta_dep[10]]]$Total_Activos,
            name="Total Activos",visible=F,line=list(color="#F94331")) %>% 
  layout(title="BOLIVIA: TIPO DE CASOS", 
         updatemenus=list(list(type='buttons',direction = "right",xanchor = 'left',
  pad = list('r'= 0, 't'= 60),x = 0,y = 1.3,
  buttons=list(list(label="Nuevos Casos",methos="relayout",args=list("visible",c(F,T,T,T,F,F,F,F))),
                             list(label="Casos Acumulados",methos="update",args=list("visible",c(F,F,F,F,T,T,T,T))))
          ))
)

```

## Tabla de frecuencias

```{r tabla_bolivia,echo=FALSE}
tabla_bolivia=bd[["Bolivia"]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_bolivia=list(tabla_bolivia)

tabla_bolivia=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_bolivia[[1]]$Confirmados,tabla_bolivia[[1]]$Decesos,tabla_bolivia[[1]]$Recuperados,tabla_bolivia[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_bolivia[[1]]$Decesos/tabla_bolivia[[1]]$Confirmados*100,1),
                                round(tabla_bolivia[[1]]$Recuperados/tabla_bolivia[[1]]$Confirmados*100,1),
                                round(tabla_bolivia[[1]]$Activos/tabla_bolivia[[1]]$Confirmados*100,1)))
data.frame(tabla_bolivia)
```


# Departamentos 

## Gráficos Dinámicos {.tabset}

### Casos nuevos

```{r fig.width=8,fig.height=5,echo=FALSE}
t3=c(T,T,T)
f3=c(F,F,F)
bn3=c(F,t3,f3,f3,f3,f3,f3,f3,f3,f3)
cb3=c(f3,F ,t3,f3,f3,f3,f3,f3,f3,f3)
ch3=c(f3,f3,F ,t3,f3,f3,f3,f3,f3,f3)
lp3=c(f3,f3,f3,F ,t3,f3,f3,f3,f3,f3)
or3=c(f3,f3,f3,f3,F ,t3,f3,f3,f3,f3)
pn3=c(f3,f3,f3,f3,f3,F ,t3,f3,f3,f3)
pt3=c(f3,f3,f3,f3,f3,f3,F ,t3,f3,f3)
sc3=c(f3,f3,f3,f3,f3,f3,f3,F ,t3,f3)
tj3=c(f3,f3,f3,f3,f3,f3,f3,f3,F ,t3)

botones_3=list(list(type='buttons',direction = "right",xanchor = 'left',
  pad = list('r'= 0, 't'= 60),x = 0,y = 1.3,
                buttons=list(list(label="Beni",methos="update",args=list("visible",bn3)),
                             list(label="Cochabamba",methos="update",args=list("visible",cb3)),
                             list(label="Chuquisaca",methos="update",args=list("visible",ch3)),
                             list(label="La Paz",methos="update",args=list("visible",lp3)),
                             list(label="Oruro",methos="update",args=list("visible",or3)),
                             list(label="Pando",methos="update",args=list("visible",pn3)),
                             list(label="Potosí",methos="update",args=list("visible",pt3)),
                             list(label="Santa Cruz",methos="update",args=list("visible",sc3)),
                             list(label="Tarija",methos="update",args=list("visible",tj3)))
))

dep=plot_ly(type = "scatter",mode="lines") %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Confirmados,
            name="Confirmados",visible=T,line=list(color="#FA975A")) %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Decesos,
            name="Decesos",visible=T,line=list(color="#494451")) %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Recuperados ,
            name="Recuperados",visible=T,line=list(color="#4EF151"))

for(i in 2:9){
      dep=dep %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Confirmados,
                  name="Confirmados",visible=F,line=list(color="#FA975A")) %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Decesos,
                  name="Decesos",visible=F,line=list(color="#494451")) %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Recuperados,
                  name="Recuperados",visible=F,line=list(color="#4EF151"))}

dep%>%  
   layout(title="Bolivia: Departamentos por Casos Nuevos",
    updatemenus=botones_3)

```


### Casos acumulados


```{r fig.width=8,fig.height=5,echo=FALSE}
t4=c(T,T,T,T)
f4=c(F,F,F,F)

bn4=c(F,t4,f4,f4,f4,f4,f4,f4,f4,f4)
cb4=c(f4,F ,t4,f4,f4,f4,f4,f4,f4,f4)
ch4=c(f4,f4,F ,t4,f4,f4,f4,f4,f4,f4)
lp4=c(f4,f4,f4,F ,t4,f4,f4,f4,f4,f4)
or4=c(f4,f4,f4,f4,F ,t4,f4,f4,f4,f4)
pn4=c(f4,f4,f4,f4,f4,F ,t4,f4,f4,f4)
pt4=c(f4,f4,f4,f4,f4,f4,F ,t4,f4,f4)
sc4=c(f4,f4,f4,f4,f4,f4,f4,F ,t4,f4)
tj4=c(f4,f4,f4,f4,f4,f4,f4,f4,F ,t4)

botones_4=list(list(type='buttons',direction = "right",xanchor = 'left',
  pad = list('r'= 0, 't'= 60),x = 0,y = 1.3,
                buttons=list(list(label="Beni",methos="update",args=list("visible",bn4)),
                             list(label="Cochabamba",methos="update",args=list("visible",cb4)),
                             list(label="Chuquisaca",methos="update",args=list("visible",ch4)),
                             list(label="La Paz",methos="update",args=list("visible",lp4)),
                             list(label="Oruro",methos="update",args=list("visible",or4)),
                             list(label="Pando",methos="update",args=list("visible",pn4)),
                             list(label="Potosí",methos="update",args=list("visible",pt4)),
                             list(label="Santa Cruz",methos="update",args=list("visible",sc4)),
                             list(label="Tarija",methos="update",args=list("visible",tj4)))
))

dep_acum=plot_ly(type = "scatter",mode="lines") %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Total_Confirmados,
            name="Total Confirmados",visible=T,line=list(color="#FA975A")) %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Total_Decesos,
            name="Total Decesos",visible=T,line=list(color="#494451")) %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Total_Recuperados,
            name="Total Recuperados",visible=T,line=list(color="#4EF151")) %>% 
  add_trace(x=bd[[etiqueta_dep[1]]]$Fecha,y=bd[[etiqueta_dep[1]]]$Total_Activos,
            name="Total Activos",visible=T,line=list(color="#F94331")) 


for(i in 2:9){
      dep_acum=dep_acum %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Confirmados,
                  name="Total Confirmados",visible=F,line=list(color="#FA975A")) %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Decesos,
                  name="Total Decesos",visible=F,line=list(color="#494451")) %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Recuperados,
                  name="Total Recuperados",visible=F,line=list(color="#4EF151")) %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Activos,
                  name="Total Activos",visible=F,line=list(color="#F94331")) }

dep_acum%>%  
   layout(title="Bolivia: Departamentos por Casos Acumulados",
    updatemenus=botones_4)

```

### Tipo de casos nuevos

```{r fig.width=8,fig.height=5,echo=FALSE}

t=list(T,T,T,T,T,T,T,T,T)
f=list(F,F,F,F,F,F,F,F,F)
c1=c(F,t,f,f)
d1=c(f,F,t,f)
r1=c(f,f,F,t)

botones_1=list(list(type='buttons',direction = "right",xanchor = 'left',
  pad = list('r'= 0, 't'= 60),x = 0,y = 1.3,
                buttons=list(list(label="Confirmados",methos="update",args=list("visible",c1)),
                             list(label="Decesos",methos="update",args=list("visible",d1)),
                             list(label="Recuperados",methos="update",args=list("visible",r1)))
))

colores=c("#0D651A","#0990BF","#E74F37","#FF4F40","#BF628D","#66BF62","#C4794F","#2BAD0E","#626DBF")

nuevos=plot_ly(type = "scatter",mode="lines")
for(i in 1:9){
      nuevos=nuevos %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Confirmados,
                  name=etiqueta_dep[i],visible=T,line=list(color=colores[i]))}
for(i in 1:9){
      nuevos=nuevos %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Decesos,
                  name=etiqueta_dep[i],visible=F,line=list(color=colores[i]))}
for(i in 1:9){
      nuevos=nuevos %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Recuperados,
                  name=etiqueta_dep[i],visible=F,line=list(color=colores[i]))}

nuevos%>%  
   layout(title="BOLIVIA: TIPO DE CASOS NUEVOS POR DEPARTAMENTO",updatemenus=botones_1)

#bn_nc=xts(x=bn[,3:5],order.by = bn$fecha)
#dygraph(bn_nc,xlab = "Fecha",ylab = "Número de casos",main="Beni") %>% 
 # dyRangeSelector() %>%
  #dyOptions(drawGrid = FALSE,strokeWidth=2, colors=c("#E93504","#010332","#15CF0D")) %>% 
  #dyCrosshair(direction = "vertical") 

```


### Tipo de casos acumulados

```{r fig.width=8,fig.height=5,echo=FALSE}
c2=c(F,t,f,f,f)
d2=c(f,F,t,f,f)
r2=c(f,f,F,t,f)
a2=c(f,f,f,F,t)
botones_2=list(list(type='buttons',direction = "right",xanchor = 'left',
  pad = list('r'= 0, 't'= 60),x = 0,y = 1.3,
                buttons=list(list(label="Total Confirmados",methos="update",args=list("visible",c2)),
                             list(label="Total Decesos",methos="update",args=list("visible",d2)),
                             list(label="Total Recuperados",methos="update",args=list("visible",r2)),
                             list(label="Total Activos",methos="update",args=list("visible",a2)))
))

acumulados=plot_ly(type = "scatter",mode="lines")
for(i in 1:9){
      acumulados=acumulados %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Confirmados,
                  name=etiqueta_dep[i],visible=T,line=list(color=colores[i]))}
for(i in 1:9){
      acumulados=acumulados %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Decesos,
                  name=etiqueta_dep[i],visible=F,line=list(color=colores[i]))}
for(i in 1:9){
      acumulados=acumulados %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Recuperados,
                  name=etiqueta_dep[i],visible=F,line=list(color=colores[i]))}
for(i in 1:9){
      acumulados=acumulados %>% 
        add_trace(x=bd[[etiqueta_dep[i]]]$Fecha,y=bd[[etiqueta_dep[i]]]$Total_Activos,
                  name=etiqueta_dep[i],visible=F,line=list(color=colores[i]))}

acumulados%>%  
   layout(title="BOLIVIA: TIPO DE CASOS ACUMULADOS POR DEPARTAMENTO",
    updatemenus=botones_2)


```

## Tablas de Frecuencia {.tabset}

### Beni {-}

```{r tabla_beni,echo=FALSE}
tabla_beni=bd_dep[[1]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_beni=list(tabla_beni)

tabla_beni=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_beni[[1]]$Confirmados,tabla_beni[[1]]$Decesos,tabla_beni[[1]]$Recuperados,tabla_beni[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_beni[[1]]$Decesos/tabla_beni[[1]]$Confirmados*100,1),
                                round(tabla_beni[[1]]$Recuperados/tabla_beni[[1]]$Confirmados*100,1),
                                round(tabla_beni[[1]]$Activos/tabla_beni[[1]]$Confirmados*100,1)))
data.frame(tabla_beni)

```

### Cochabamba {-}

```{r tabla_cochabamba,echo=FALSE}
tabla_cochabamba=bd_dep[[2]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_cochabamba=list(tabla_cochabamba)

tabla_cochabamba=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_cochabamba[[1]]$Confirmados,tabla_cochabamba[[1]]$Decesos,tabla_cochabamba[[1]]$Recuperados,tabla_cochabamba[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_cochabamba[[1]]$Decesos/tabla_cochabamba[[1]]$Confirmados*100,1),
                                round(tabla_cochabamba[[1]]$Recuperados/tabla_cochabamba[[1]]$Confirmados*100,1),
                                round(tabla_cochabamba[[1]]$Activos/tabla_cochabamba[[1]]$Confirmados*100,1)))
data.frame(tabla_cochabamba)

```
### Chuquisaca {-}

```{r tabla_chuquisaca,echo=FALSE}
tabla_chuquisaca=bd_dep[[3]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_chuquisaca=list(tabla_chuquisaca)

tabla_chuquisaca=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_chuquisaca[[1]]$Confirmados,tabla_chuquisaca[[1]]$Decesos,tabla_chuquisaca[[1]]$Recuperados,tabla_chuquisaca[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_chuquisaca[[1]]$Decesos/tabla_chuquisaca[[1]]$Confirmados*100,1),
                                round(tabla_chuquisaca[[1]]$Recuperados/tabla_chuquisaca[[1]]$Confirmados*100,1),
                                round(tabla_chuquisaca[[1]]$Activos/tabla_chuquisaca[[1]]$Confirmados*100,1)))
data.frame(tabla_chuquisaca)

```
### La Paz {-}

```{r tabla_lapaz,echo=FALSE}
tabla_lapaz=bd_dep[[4]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_lapaz=list(tabla_lapaz)

tabla_lapaz=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_lapaz[[1]]$Confirmados,tabla_lapaz[[1]]$Decesos,tabla_lapaz[[1]]$Recuperados,tabla_lapaz[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_lapaz[[1]]$Decesos/tabla_lapaz[[1]]$Confirmados*100,1),
                                round(tabla_lapaz[[1]]$Recuperados/tabla_lapaz[[1]]$Confirmados*100,1),
                                round(tabla_lapaz[[1]]$Activos/tabla_lapaz[[1]]$Confirmados*100,1)))
data.frame(tabla_lapaz)

```

### Oruro {-}

```{r tabla_oruro,echo=FALSE}
tabla_oruro=bd_dep[[5]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_oruro=list(tabla_oruro)

tabla_oruro=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_oruro[[1]]$Confirmados,tabla_oruro[[1]]$Decesos,tabla_oruro[[1]]$Recuperados,tabla_oruro[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_oruro[[1]]$Decesos/tabla_oruro[[1]]$Confirmados*100,1),
                                round(tabla_oruro[[1]]$Recuperados/tabla_oruro[[1]]$Confirmados*100,1),
                                round(tabla_oruro[[1]]$Activos/tabla_oruro[[1]]$Confirmados*100,1)))
data.frame(tabla_oruro)

```

### Pando {-}

```{r tabla_pando,echo=FALSE}
tabla_pando=bd_dep[[6]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_pando=list(tabla_pando)

tabla_pando=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_pando[[1]]$Confirmados,tabla_pando[[1]]$Decesos,tabla_pando[[1]]$Recuperados,tabla_pando[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_pando[[1]]$Decesos/tabla_pando[[1]]$Confirmados*100,1),
                                round(tabla_pando[[1]]$Recuperados/tabla_pando[[1]]$Confirmados*100,1),
                                round(tabla_pando[[1]]$Activos/tabla_pando[[1]]$Confirmados*100,1)))
data.frame(tabla_pando)

```


### Potosí {-}

```{r tabla_potosi,echo=FALSE}
tabla_potosi=bd_dep[[7]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_potosi=list(tabla_potosi)

tabla_potosi=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_potosi[[1]]$Confirmados,tabla_potosi[[1]]$Decesos,tabla_potosi[[1]]$Recuperados,tabla_potosi[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_potosi[[1]]$Decesos/tabla_potosi[[1]]$Confirmados*100,1),
                                round(tabla_potosi[[1]]$Recuperados/tabla_potosi[[1]]$Confirmados*100,1),
                                round(tabla_potosi[[1]]$Activos/tabla_potosi[[1]]$Confirmados*100,1)))
data.frame(tabla_potosi)

```

### Santa Cruz {-}

```{r tabla_santacruz,echo=FALSE}
tabla_santacruz=bd_dep[[8]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_santacruz=list(tabla_santacruz)

tabla_santacruz=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_santacruz[[1]]$Confirmados,tabla_santacruz[[1]]$Decesos,tabla_santacruz[[1]]$Recuperados,tabla_santacruz[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_santacruz[[1]]$Decesos/tabla_santacruz[[1]]$Confirmados*100,1),
                                round(tabla_santacruz[[1]]$Recuperados/tabla_santacruz[[1]]$Confirmados*100,1),
                                round(tabla_santacruz[[1]]$Activos/tabla_santacruz[[1]]$Confirmados*100,1)))
data.frame(tabla_santacruz)

```

### Tarija {-}

```{r tabla_tarija,echo=FALSE}
tabla_tarija=bd_dep[[9]] %>% 
  dplyr::summarise(Confirmados=sum(Confirmados),
                   Decesos=sum(Decesos),
                   Recuperados=sum(Recuperados),
                   Activos=sum(Activos))
tabla_tarija=list(tabla_tarija)

tabla_tarija=list(Tipo=c("Confirmados","Decesos","Recuperados","Activos"),
                   Nro_casos=c(tabla_tarija[[1]]$Confirmados,tabla_tarija[[1]]$Decesos,tabla_tarija[[1]]$Recuperados,tabla_tarija[[1]]$Activos),
                   Porcentaje=c(100,
                                round(tabla_tarija[[1]]$Decesos/tabla_tarija[[1]]$Confirmados*100,1),
                                round(tabla_tarija[[1]]$Recuperados/tabla_tarija[[1]]$Confirmados*100,1),
                                round(tabla_tarija[[1]]$Activos/tabla_tarija[[1]]$Confirmados*100,1)))
data.frame(tabla_tarija)

```

Los datos utilizados son de **<boliviasegura.gob.bo>**.
